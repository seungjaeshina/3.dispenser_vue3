{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\n/*!\n * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad\n * (c) 2020 Szymon Nowak | Released under the MIT license\n */\n\nclass Point {\n  constructor(x, y, time) {\n    this.x = x;\n    this.y = y;\n    this.time = time || Date.now();\n  }\n  distanceTo(start) {\n    return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n  }\n  equals(other) {\n    return this.x === other.x && this.y === other.y && this.time === other.time;\n  }\n  velocityFrom(start) {\n    return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 0;\n  }\n}\nclass Bezier {\n  constructor(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n    this.startPoint = startPoint;\n    this.control2 = control2;\n    this.control1 = control1;\n    this.endPoint = endPoint;\n    this.startWidth = startWidth;\n    this.endWidth = endWidth;\n  }\n  static fromPoints(points, widths) {\n    const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n    const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n    return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n  }\n  static calculateControlPoints(s1, s2, s3) {\n    const dx1 = s1.x - s2.x;\n    const dy1 = s1.y - s2.y;\n    const dx2 = s2.x - s3.x;\n    const dy2 = s2.y - s3.y;\n    const m1 = {\n      x: (s1.x + s2.x) / 2.0,\n      y: (s1.y + s2.y) / 2.0\n    };\n    const m2 = {\n      x: (s2.x + s3.x) / 2.0,\n      y: (s2.y + s3.y) / 2.0\n    };\n    const l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n    const l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n    const dxm = m1.x - m2.x;\n    const dym = m1.y - m2.y;\n    const k = l2 / (l1 + l2);\n    const cm = {\n      x: m2.x + dxm * k,\n      y: m2.y + dym * k\n    };\n    const tx = s2.x - cm.x;\n    const ty = s2.y - cm.y;\n    return {\n      c1: new Point(m1.x + tx, m1.y + ty),\n      c2: new Point(m2.x + tx, m2.y + ty)\n    };\n  }\n  length() {\n    const steps = 10;\n    let length = 0;\n    let px;\n    let py;\n    for (let i = 0; i <= steps; i += 1) {\n      const t = i / steps;\n      const cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n      const cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n      if (i > 0) {\n        const xdiff = cx - px;\n        const ydiff = cy - py;\n        length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n      }\n      px = cx;\n      py = cy;\n    }\n    return length;\n  }\n  point(t, start, c1, c2, end) {\n    return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n  }\n}\nfunction throttle(fn, wait = 250) {\n  let previous = 0;\n  let timeout = null;\n  let result;\n  let storedContext;\n  let storedArgs;\n  const later = () => {\n    previous = Date.now();\n    timeout = null;\n    result = fn.apply(storedContext, storedArgs);\n    if (!timeout) {\n      storedContext = null;\n      storedArgs = [];\n    }\n  };\n  return function wrapper(...args) {\n    const now = Date.now();\n    const remaining = wait - (now - previous);\n    storedContext = this;\n    storedArgs = args;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = fn.apply(storedContext, storedArgs);\n      if (!timeout) {\n        storedContext = null;\n        storedArgs = [];\n      }\n    } else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\nclass SignaturePad {\n  constructor(canvas, options = {}) {\n    this.canvas = canvas;\n    this.options = options;\n    this._handleMouseDown = event => {\n      if (event.which === 1) {\n        this._mouseButtonDown = true;\n        this._strokeBegin(event);\n      }\n    };\n    this._handleMouseMove = event => {\n      if (this._mouseButtonDown) {\n        this._strokeMoveUpdate(event);\n      }\n    };\n    this._handleMouseUp = event => {\n      if (event.which === 1 && this._mouseButtonDown) {\n        this._mouseButtonDown = false;\n        this._strokeEnd(event);\n      }\n    };\n    this._handleTouchStart = event => {\n      event.preventDefault();\n      if (event.targetTouches.length === 1) {\n        const touch = event.changedTouches[0];\n        this._strokeBegin(touch);\n      }\n    };\n    this._handleTouchMove = event => {\n      event.preventDefault();\n      const touch = event.targetTouches[0];\n      this._strokeMoveUpdate(touch);\n    };\n    this._handleTouchEnd = event => {\n      const wasCanvasTouched = event.target === this.canvas;\n      if (wasCanvasTouched) {\n        event.preventDefault();\n        const touch = event.changedTouches[0];\n        this._strokeEnd(touch);\n      }\n    };\n    this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n    this.minWidth = options.minWidth || 0.5;\n    this.maxWidth = options.maxWidth || 2.5;\n    this.throttle = 'throttle' in options ? options.throttle : 16;\n    this.minDistance = 'minDistance' in options ? options.minDistance : 5;\n    this.dotSize = options.dotSize || function dotSize() {\n      return (this.minWidth + this.maxWidth) / 2;\n    };\n    this.penColor = options.penColor || 'black';\n    this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n    this.onBegin = options.onBegin;\n    this.onEnd = options.onEnd;\n    this._strokeMoveUpdate = this.throttle ? throttle(SignaturePad.prototype._strokeUpdate, this.throttle) : SignaturePad.prototype._strokeUpdate;\n    this._ctx = canvas.getContext('2d');\n    this.clear();\n    this.on();\n  }\n  clear() {\n    const {\n      _ctx: ctx,\n      canvas\n    } = this;\n    ctx.fillStyle = this.backgroundColor;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    this._data = [];\n    this._reset();\n    this._isEmpty = true;\n  }\n  fromDataURL(dataUrl, options = {}, callback) {\n    const image = new Image();\n    const ratio = options.ratio || window.devicePixelRatio || 1;\n    const width = options.width || this.canvas.width / ratio;\n    const height = options.height || this.canvas.height / ratio;\n    this._reset();\n    image.onload = () => {\n      this._ctx.drawImage(image, 0, 0, width, height);\n      if (callback) {\n        callback();\n      }\n    };\n    image.onerror = error => {\n      if (callback) {\n        callback(error);\n      }\n    };\n    image.src = dataUrl;\n    this._isEmpty = false;\n  }\n  toDataURL(type = 'image/png', encoderOptions) {\n    switch (type) {\n      case 'image/svg+xml':\n        return this._toSVG();\n      default:\n        return this.canvas.toDataURL(type, encoderOptions);\n    }\n  }\n  on() {\n    this.canvas.style.touchAction = 'none';\n    this.canvas.style.msTouchAction = 'none';\n    if (window.PointerEvent) {\n      this._handlePointerEvents();\n    } else {\n      this._handleMouseEvents();\n      if ('ontouchstart' in window) {\n        this._handleTouchEvents();\n      }\n    }\n  }\n  off() {\n    this.canvas.style.touchAction = 'auto';\n    this.canvas.style.msTouchAction = 'auto';\n    this.canvas.removeEventListener('pointerdown', this._handleMouseDown);\n    this.canvas.removeEventListener('pointermove', this._handleMouseMove);\n    document.removeEventListener('pointerup', this._handleMouseUp);\n    this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n    this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n    document.removeEventListener('mouseup', this._handleMouseUp);\n    this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n    this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n    this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n  }\n  isEmpty() {\n    return this._isEmpty;\n  }\n  fromData(pointGroups) {\n    this.clear();\n    this._fromData(pointGroups, ({\n      color,\n      curve\n    }) => this._drawCurve({\n      color,\n      curve\n    }), ({\n      color,\n      point\n    }) => this._drawDot({\n      color,\n      point\n    }));\n    this._data = pointGroups;\n  }\n  toData() {\n    return this._data;\n  }\n  _strokeBegin(event) {\n    const newPointGroup = {\n      color: this.penColor,\n      points: []\n    };\n    if (typeof this.onBegin === 'function') {\n      this.onBegin(event);\n    }\n    this._data.push(newPointGroup);\n    this._reset();\n    this._strokeUpdate(event);\n  }\n  _strokeUpdate(event) {\n    if (this._data.length === 0) {\n      this._strokeBegin(event);\n      return;\n    }\n    const x = event.clientX;\n    const y = event.clientY;\n    const point = this._createPoint(x, y);\n    const lastPointGroup = this._data[this._data.length - 1];\n    const lastPoints = lastPointGroup.points;\n    const lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n    const isLastPointTooClose = lastPoint ? point.distanceTo(lastPoint) <= this.minDistance : false;\n    const color = lastPointGroup.color;\n    if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n      const curve = this._addPoint(point);\n      if (!lastPoint) {\n        this._drawDot({\n          color,\n          point\n        });\n      } else if (curve) {\n        this._drawCurve({\n          color,\n          curve\n        });\n      }\n      lastPoints.push({\n        time: point.time,\n        x: point.x,\n        y: point.y\n      });\n    }\n  }\n  _strokeEnd(event) {\n    this._strokeUpdate(event);\n    if (typeof this.onEnd === 'function') {\n      this.onEnd(event);\n    }\n  }\n  _handlePointerEvents() {\n    this._mouseButtonDown = false;\n    this.canvas.addEventListener('pointerdown', this._handleMouseDown);\n    this.canvas.addEventListener('pointermove', this._handleMouseMove);\n    document.addEventListener('pointerup', this._handleMouseUp);\n  }\n  _handleMouseEvents() {\n    this._mouseButtonDown = false;\n    this.canvas.addEventListener('mousedown', this._handleMouseDown);\n    this.canvas.addEventListener('mousemove', this._handleMouseMove);\n    document.addEventListener('mouseup', this._handleMouseUp);\n  }\n  _handleTouchEvents() {\n    this.canvas.addEventListener('touchstart', this._handleTouchStart);\n    this.canvas.addEventListener('touchmove', this._handleTouchMove);\n    this.canvas.addEventListener('touchend', this._handleTouchEnd);\n  }\n  _reset() {\n    this._lastPoints = [];\n    this._lastVelocity = 0;\n    this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n    this._ctx.fillStyle = this.penColor;\n  }\n  _createPoint(x, y) {\n    const rect = this.canvas.getBoundingClientRect();\n    return new Point(x - rect.left, y - rect.top, new Date().getTime());\n  }\n  _addPoint(point) {\n    const {\n      _lastPoints\n    } = this;\n    _lastPoints.push(point);\n    if (_lastPoints.length > 2) {\n      if (_lastPoints.length === 3) {\n        _lastPoints.unshift(_lastPoints[0]);\n      }\n      const widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2]);\n      const curve = Bezier.fromPoints(_lastPoints, widths);\n      _lastPoints.shift();\n      return curve;\n    }\n    return null;\n  }\n  _calculateCurveWidths(startPoint, endPoint) {\n    const velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity;\n    const newWidth = this._strokeWidth(velocity);\n    const widths = {\n      end: newWidth,\n      start: this._lastWidth\n    };\n    this._lastVelocity = velocity;\n    this._lastWidth = newWidth;\n    return widths;\n  }\n  _strokeWidth(velocity) {\n    return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n  }\n  _drawCurveSegment(x, y, width) {\n    const ctx = this._ctx;\n    ctx.moveTo(x, y);\n    ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n    this._isEmpty = false;\n  }\n  _drawCurve({\n    color,\n    curve\n  }) {\n    const ctx = this._ctx;\n    const widthDelta = curve.endWidth - curve.startWidth;\n    const drawSteps = Math.floor(curve.length()) * 2;\n    ctx.beginPath();\n    ctx.fillStyle = color;\n    for (let i = 0; i < drawSteps; i += 1) {\n      const t = i / drawSteps;\n      const tt = t * t;\n      const ttt = tt * t;\n      const u = 1 - t;\n      const uu = u * u;\n      const uuu = uu * u;\n      let x = uuu * curve.startPoint.x;\n      x += 3 * uu * t * curve.control1.x;\n      x += 3 * u * tt * curve.control2.x;\n      x += ttt * curve.endPoint.x;\n      let y = uuu * curve.startPoint.y;\n      y += 3 * uu * t * curve.control1.y;\n      y += 3 * u * tt * curve.control2.y;\n      y += ttt * curve.endPoint.y;\n      const width = Math.min(curve.startWidth + ttt * widthDelta, this.maxWidth);\n      this._drawCurveSegment(x, y, width);\n    }\n    ctx.closePath();\n    ctx.fill();\n  }\n  _drawDot({\n    color,\n    point\n  }) {\n    const ctx = this._ctx;\n    const width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n    ctx.beginPath();\n    this._drawCurveSegment(point.x, point.y, width);\n    ctx.closePath();\n    ctx.fillStyle = color;\n    ctx.fill();\n  }\n  _fromData(pointGroups, drawCurve, drawDot) {\n    for (const group of pointGroups) {\n      const {\n        color,\n        points\n      } = group;\n      if (points.length > 1) {\n        for (let j = 0; j < points.length; j += 1) {\n          const basicPoint = points[j];\n          const point = new Point(basicPoint.x, basicPoint.y, basicPoint.time);\n          this.penColor = color;\n          if (j === 0) {\n            this._reset();\n          }\n          const curve = this._addPoint(point);\n          if (curve) {\n            drawCurve({\n              color,\n              curve\n            });\n          }\n        }\n      } else {\n        this._reset();\n        drawDot({\n          color,\n          point: points[0]\n        });\n      }\n    }\n  }\n  _toSVG() {\n    const pointGroups = this._data;\n    const ratio = Math.max(window.devicePixelRatio || 1, 1);\n    const minX = 0;\n    const minY = 0;\n    const maxX = this.canvas.width / ratio;\n    const maxY = this.canvas.height / ratio;\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttribute('width', this.canvas.width.toString());\n    svg.setAttribute('height', this.canvas.height.toString());\n    this._fromData(pointGroups, ({\n      color,\n      curve\n    }) => {\n      const path = document.createElement('path');\n      if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n        const attr = `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(3)} ` + `C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} ` + `${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} ` + `${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n        path.setAttribute('d', attr);\n        path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n        path.setAttribute('stroke', color);\n        path.setAttribute('fill', 'none');\n        path.setAttribute('stroke-linecap', 'round');\n        svg.appendChild(path);\n      }\n    }, ({\n      color,\n      point\n    }) => {\n      const circle = document.createElement('circle');\n      const dotSize = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n      circle.setAttribute('r', dotSize.toString());\n      circle.setAttribute('cx', point.x.toString());\n      circle.setAttribute('cy', point.y.toString());\n      circle.setAttribute('fill', color);\n      svg.appendChild(circle);\n    });\n    const prefix = 'data:image/svg+xml;base64,';\n    const header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + ` viewBox=\"${minX} ${minY} ${maxX} ${maxY}\"` + ` width=\"${maxX}\"` + ` height=\"${maxY}\"` + '>';\n    let body = svg.innerHTML;\n    if (body === undefined) {\n      const dummy = document.createElement('dummy');\n      const nodes = svg.childNodes;\n      dummy.innerHTML = '';\n      for (let i = 0; i < nodes.length; i += 1) {\n        dummy.appendChild(nodes[i].cloneNode(true));\n      }\n      body = dummy.innerHTML;\n    }\n    const footer = '</svg>';\n    const data = header + body + footer;\n    return prefix + btoa(data);\n  }\n}\nexport default SignaturePad;","map":{"version":3,"names":["Point","constructor","x","y","time","Date","now","distanceTo","start","Math","sqrt","pow","equals","other","velocityFrom","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","fromPoints","points","widths","c2","calculateControlPoints","c3","c1","end","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","length","steps","px","py","i","t","cx","point","cy","xdiff","ydiff","throttle","fn","wait","previous","timeout","result","storedContext","storedArgs","later","apply","wrapper","args","remaining","clearTimeout","window","setTimeout","SignaturePad","canvas","options","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","preventDefault","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","wasCanvasTouched","target","velocityFilterWeight","minWidth","maxWidth","minDistance","dotSize","penColor","backgroundColor","onBegin","onEnd","prototype","_strokeUpdate","_ctx","getContext","clear","on","ctx","fillStyle","clearRect","width","height","fillRect","_data","_reset","_isEmpty","fromDataURL","dataUrl","callback","image","Image","ratio","devicePixelRatio","onload","drawImage","onerror","error","src","toDataURL","type","encoderOptions","_toSVG","style","touchAction","msTouchAction","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","off","removeEventListener","document","isEmpty","fromData","pointGroups","_fromData","color","curve","_drawCurve","_drawDot","toData","newPointGroup","push","clientX","clientY","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","_addPoint","addEventListener","_lastPoints","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","shift","velocity","newWidth","_strokeWidth","max","_drawCurveSegment","moveTo","arc","PI","widthDelta","drawSteps","floor","beginPath","tt","ttt","u","uu","uuu","min","closePath","fill","drawCurve","drawDot","group","j","basicPoint","minX","minY","maxX","maxY","svg","createElementNS","setAttribute","toString","path","createElement","isNaN","attr","toFixed","appendChild","circle","prefix","header","body","innerHTML","undefined","dummy","nodes","childNodes","cloneNode","footer","data","btoa"],"sources":["../src/point.ts","../src/bezier.ts","../src/throttle.ts","../src/signature_pad.ts"],"sourcesContent":[null,null,null,null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}