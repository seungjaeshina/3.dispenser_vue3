{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport '@/assets/css/payment/confirmpayment.css';\nimport dayjs from \"dayjs\";\nimport axios from 'axios';\nimport json_log from \"@/assets/json/log.json\";\nexport default {\n  name: \"ConfirmPayment\",\n  props: ['options'],\n  // {width, height, border, lineColor, lineWidth, functions:{download: boolean, ...}}\n  data() {\n    return {\n      localOptions: {},\n      isDrawing: false,\n      fileName: 'signpad',\n      canvasPad: {},\n      canvasPadContext: {},\n      currentPosition: {\n        x: 0,\n        y: 0\n      },\n      previousPosition: {\n        x: 0,\n        y: 0\n      },\n      amount: 0\n    };\n  },\n  components: {},\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    goHome() {\n      this.$router.push('/');\n    },\n    goPrintTag() {\n      this.$router.push('/printtag');\n    },\n    onStart(e) {\n      e.preventDefault();\n      this.isDrawing = true;\n      this.previousPosition = this.currentPosition;\n      this.currentPosition = this.getPosition(this.canvasPad, e);\n    },\n    onEnd(e) {\n      e.preventDefault();\n      this.isDrawing = false;\n    },\n    onMove(e) {\n      if (!this.isDrawing) return;\n      this.previousPosition = this.currentPosition;\n      this.currentPosition = this.getPosition(this.canvasPad, e);\n      this.draw();\n    },\n    clear() {\n      this.canvasPad.width = 995;\n      this.$emit('clear');\n    },\n    downloadImage() {\n      // TODO: background color issue\n      const anchor = document.createElement('a');\n      anchor.href = this.canvasPad.toDataURL();\n      anchor.download = this.fileName;\n      anchor.click();\n    }\n  },\n  created() {\n    // Apply default values if need\n    this.localOptions = Object.assign({\n      width: '700px',\n      height: '369px',\n      border: '0px solid black',\n      lineColor: '#000000',\n      lineWidth: 0,\n      functions: {\n        download: false\n      }\n    }, this.options);\n  },\n  mounted() {\n    this.amount = json_log.box_amt;\n    this.canvasPad = this.$refs.canvasPad;\n    this.canvasPadContext = this.canvasPad.getContext('2d');\n  }\n};","map":{"version":3,"names":["dayjs","axios","json_log","name","props","data","localOptions","isDrawing","fileName","canvasPad","canvasPadContext","currentPosition","x","y","previousPosition","amount","components","methods","goBack","$router","go","goHome","push","goPrintTag","onStart","e","preventDefault","getPosition","onEnd","onMove","draw","clear","width","$emit","downloadImage","anchor","document","createElement","href","toDataURL","download","click","created","Object","assign","height","border","lineColor","lineWidth","functions","options","mounted","box_amt","$refs","getContext"],"sources":["D:\\0610\\1020_KoreaPost\\1.Receipto\\Receiptor\\src\\views\\payment\\ConfirmPayment.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"wrap\">\n\n            <!-- ======== 카테고리 헤더 ======== -->\n            <div class=\"header\">\n                <div class=\"main_logo\" v-on:click=\"goHome\"></div>\n                <div class=\"header_title\">\n                    <div class=\"header_title_down\">결제하기</div>    \n                </div>\n                <div class=\"back\"  v-on:click=\"goBack\"></div>    \n            </div>\n\n            <!-- ======== 내용 나오는곳 ======== -->\n            <div class=\"confirmpayment_container\">\n                <div class=\"confirmpayment_area\">\n                </div>\n\n                <div class=\"confirmpayment_sum_area\">{{ amount }}\n                </div>\n                \n                <div class=\"confirmpayment_signpad_area\">\n                    <div class=\"confirmpayment_signpad\">\n                        <canvas ref=\"canvasPad\" \n                            v-bind:style=\"{border: localOptions.border}\"\n                            v-bind:width=\"localOptions.width\"\n                            v-bind:height=\"localOptions.height\"\n                            @touchstart=\"onStart\" @touchend=\"onEnd\" @touchmove=\"onMove\" \n                            @mousedown=\"onStart\" @mouseup=\"onEnd\" @mousemove=\"onMove\">\n                        </canvas>\n                    </div>\n                    <div class=\"confirmpayment_signpad_img\" v-on:click=\"clear\"></div>\n                </div>\n\n            </div><!--container끝-->\n\n            <div class=\"confirmpayment_btn_area\">\n                <div class=\"confirmpayment_btn\" v-on:click=\"goPrintTag\"></div>\n            </div>\n\n        </div><!--wrap 끝-->\n\n    </div>\n</template>\n\n<script>\nimport '@/assets/css/payment/confirmpayment.css';\nimport dayjs from \"dayjs\";\nimport axios from 'axios';\nimport json_log from \"@/assets/json/log.json\";\n\nexport default {\n    name: \"ConfirmPayment\",\n    props: ['options'], // {width, height, border, lineColor, lineWidth, functions:{download: boolean, ...}}\n    data () {\n        return {\n            localOptions: {},\n            isDrawing: false,\n            fileName: 'signpad',\n            canvasPad: {},\n            canvasPadContext: {},\n            currentPosition: { x: 0, y: 0 },\n            previousPosition: { x: 0, y: 0 },\n            amount :0,\n\n        }\n    },\n\n    components: {\n    },\n    methods: {\n        goBack(){\n            this.$router.go(-1);\n        },\n        goHome(){\n            this.$router.push('/');\n        },\n        goPrintTag(){\n            this.$router.push('/printtag');\n        },\n        onStart(e) {\n            e.preventDefault()\n            this.isDrawing = true\n            this.previousPosition = this.currentPosition\n            this.currentPosition = this.getPosition(this.canvasPad, e)\n        },\n        onEnd(e) {\n            e.preventDefault()\n            this.isDrawing = false\n        },\n        onMove(e) {\n            if (!this.isDrawing) return\n            this.previousPosition = this.currentPosition\n            this.currentPosition = this.getPosition(this.canvasPad, e)\n            this.draw()\n        },\n        clear() {\n            this.canvasPad.width = 995\n            this.$emit('clear')\n        },\n        downloadImage() {\n            // TODO: background color issue\n            const anchor = document.createElement('a')\n            anchor.href = this.canvasPad.toDataURL()\n            anchor.download = this.fileName\n            anchor.click()\n        }\n\n\n    },\n    created() {\n        // Apply default values if need\n        this.localOptions = Object.assign({width: '700px', height: '369px', border: '0px solid black', lineColor: '#000000', lineWidth: 0, functions: {download: false}}, this.options)\n    },\n    mounted() {\n        this.amount = json_log.box_amt;\n\n        this.canvasPad = this.$refs.canvasPad\n        this.canvasPadContext = this.canvasPad.getContext('2d')\n    }\n\n};\n</script>\n\n\n<style>\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}