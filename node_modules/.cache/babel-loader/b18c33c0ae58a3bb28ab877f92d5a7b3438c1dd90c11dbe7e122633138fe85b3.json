{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"@/assets/css/input/checkmanager.css\";\nimport axios from \"axios\";\n\n//import dayjs from \"dayjs\"\n//const nowDay_json = \"@/assets/json/\" + dayjs().format('YYYY-MM-DD') + \".json\";\n//import json_day_log from nowDay_json;\n\nexport default {\n  name: \"CheckManager\",\n  data() {\n    return {\n      log_data: {},\n      member_data: {},\n      receiptno: \"\"\n    };\n  },\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    goHome() {\n      this.$router.push(\"/\");\n    },\n    kbd_click() {\n      document.querySelector(\".phonepad_info\").style.display = \"block\";\n      document.querySelector(\".myitem\").value = \"sms\";\n      document.querySelector(\".myinput\").value = document.querySelector(\"#checkmanager_receiptno\").innerText;\n      document.getElementById(\"myinput\").focus();\n      document.getElementById(\"myinput\").click();\n    },\n    goNum(num) {\n      var result = document.querySelector(\"#checkmanager_receiptno\").innerText;\n      if (num == \"11\") {\n        if (result.length > 0) {\n          result = result.slice(0, -1);\n          document.querySelector(\"#checkmanager_receiptno\").innerText = result;\n        }\n      } else {\n        result = document.querySelector(\"#checkmanager_receiptno\").innerText;\n        result = result + \"\" + num;\n        document.querySelector(\"#checkmanager_receiptno\").innerText = result;\n      }\n    },\n    goMemberNoScan() {\n      // 로그처리\n      this.receiptno = document.querySelector(\"#checkmanager_receiptno\").innerText;\n      this.log_data.postNo = \"1111101\";\n      this.log_data.boxNo = \"\";\n      this.log_data.userId = \"\";\n      this.log_data.menuName = \"[메뉴]사원증스캔\";\n      this.log_data.actionData = \"사원 인증(비밀번호):\" + this.receiptno;\n      axios.post(\"http://115.91.83.140:8910/admin/dispenserlog/create\", this.log_data, {\n        header: {\n          \"Context-Type\": \"multipart/form-data\"\n        }\n      }).then(res => {\n        // 성공했을 경우\n        console.log(\"성공\", res);\n        console.log(\"성공\", res.errno);\n      }).catch(res => {\n        // 실패했을 경우\n        console.error(\"실패 \", res);\n      });\n\n      // 사원비밀번호 인증확인\n      axios.get(\"http://115.91.83.140:8910/admin/member/detail\", this.receiptno, {\n        header: {\n          \"Context-Type\": \"multipart/form-data\"\n        }\n      }).then(res => {\n        // 성공했을 경우\n        console.log(\"성공\", res);\n        console.log(\"성공\", res.data.errno);\n        if (res.data.errno == -1) {\n          console.log(res.data.errmsg, this.receiptno);\n          alert(\"존재하지 않는 비밀번호입니다.\");\n        } else {\n          this.$router.push(\"/reginoscan\");\n        }\n      }).catch(res => {\n        // 실패했을 경우\n        console.error(\"실패 \", res);\n      });\n      this.$router.push(\"/reginoscan\");\n    }\n  },\n  created() {},\n  mounted() {\n    document.querySelector(\".modal\").style.display = \"none\";\n  }\n};","map":{"version":3,"names":["axios","name","data","log_data","member_data","receiptno","methods","goBack","$router","go","goHome","push","kbd_click","document","querySelector","style","display","value","innerText","getElementById","focus","click","goNum","num","result","length","slice","goMemberNoScan","postNo","boxNo","userId","menuName","actionData","post","header","then","res","console","log","errno","catch","error","get","errmsg","alert","created","mounted"],"sources":["C:\\Users\\82107\\Downloads\\3.dispenser_vue3\\src\\views\\input\\CheckManager.vue"],"sourcesContent":["import { StreamBarcodeReader } from \"vue-barcode-reader\";\n\n<template>\n  <div>\n    <div class=\"wrap\">\n      <!-- ======== 카테고리 헤더 ======== -->\n      <div class=\"header\">\n        <div class=\"main_logo\" v-on:click=\"goHome\"></div>\n        <div class=\"header_title\">\n          <div class=\"header_title_down\">사원 인증</div>\n        </div>\n        <div class=\"back\" v-on:click=\"goBack\"></div>\n      </div>\n\n      <!-- ======== 내용 ======== -->\n      <div class=\"checkmanager_container\">\n        <div class=\"check_column_info\">\n          <div class=\"checkmanager_label\" id=\"checkmanager_receiptno_label\">\n            비밀번호\n          </div>\n          <div\n            class=\"checkmanager_input\"\n            id=\"checkmanager_receiptno\"\n            contenteditable=\"true\"\n            autofocus\n            v-on:click=\"kbd_click('checkmanager_receiptno')\"\n          ></div>\n        </div>\n\n        <input\n          type=\"hidden\"\n          class=\"myitem\"\n          ref=\"myitem\"\n          id=\"myitem\"\n          name=\"myitem\"\n        />\n        <input\n          type=\"hidden\"\n          class=\"myinput\"\n          ref=\"myinput\"\n          id=\"myinput\"\n          name=\"myinput\"\n        />\n\n        <div class=\"phonepad_info\">\n          <div class=\"pad_num\">\n            <div class=\"num1\" v-on:click=\"goNum('1')\"></div>\n            <div class=\"num2\" v-on:click=\"goNum('2')\"></div>\n            <div class=\"num3\" v-on:click=\"goNum('3')\"></div>\n          </div>\n          <div class=\"pad_num\">\n            <div class=\"num4\" v-on:click=\"goNum('4')\"></div>\n            <div class=\"num5\" v-on:click=\"goNum('5')\"></div>\n            <div class=\"num6\" v-on:click=\"goNum('6')\"></div>\n          </div>\n          <div class=\"pad_num\">\n            <div class=\"num7\" v-on:click=\"goNum('7')\"></div>\n            <div class=\"num8\" v-on:click=\"goNum('8')\"></div>\n            <div class=\"num9\" v-on:click=\"goNum('9')\"></div>\n          </div>\n          <div class=\"pad_num\">\n            <div class=\"num0\" v-on:click=\"goNum('0')\"></div>\n            <div class=\"num_back\" v-on:click=\"goNum('11')\"></div>\n            <div class=\"numconfirm\" v-on:click=\"goMemberNoScan\"></div>\n          </div>\n        </div>\n\n        <div class=\"checkmanager_ment\" v-on:click=\"goMemberNoScan\"></div>\n\n        <div class=\"keyboardzone\" id=\"keyboardzone\"></div>\n\n        <!-- ======== 모달창 ======== -->\n        <div\n          class=\"modal\"\n          id=\"modal2\"\n          ref=\"modal2\"\n          v-bind:class=\"{ 'modal-on': isModal }\"\n        >\n          <div class=\"modal-content\">\n            <h1 ref=\"msg\">인증번호가 존재하지 않습니다.</h1>\n            <button v-on:click=\"modalClose\">확인</button>\n          </div>\n        </div>\n\n        <div class=\"checkmanager_tail\" v-on:click=\"goMemberNoScan\"></div>\n      </div>\n      <!--container끝-->\n    </div>\n    <!--wrap 끝-->\n  </div>\n</template>\n<script>\nimport \"@/assets/css/input/checkmanager.css\";\nimport axios from \"axios\";\n\n//import dayjs from \"dayjs\"\n//const nowDay_json = \"@/assets/json/\" + dayjs().format('YYYY-MM-DD') + \".json\";\n//import json_day_log from nowDay_json;\n\nexport default {\n  name: \"CheckManager\",\n  data() {\n    return {\n      log_data: {},\n      member_data: {},\n      receiptno: \"\",\n    };\n  },\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    goHome() {\n      this.$router.push(\"/\");\n    },\n    kbd_click() {\n      document.querySelector(\".phonepad_info\").style.display = \"block\";\n      document.querySelector(\".myitem\").value = \"sms\";\n      document.querySelector(\".myinput\").value = document.querySelector(\n        \"#checkmanager_receiptno\"\n      ).innerText;\n      document.getElementById(\"myinput\").focus();\n      document.getElementById(\"myinput\").click();\n    },\n    goNum(num) {\n      var result = document.querySelector(\"#checkmanager_receiptno\").innerText;\n      if (num == \"11\") {\n        if (result.length > 0) {\n          result = result.slice(0, -1);\n          document.querySelector(\"#checkmanager_receiptno\").innerText = result;\n        }\n      } else {\n        result = document.querySelector(\"#checkmanager_receiptno\").innerText;\n        result = result + \"\" + num;\n        document.querySelector(\"#checkmanager_receiptno\").innerText = result;\n      }\n    },\n    goMemberNoScan() {\n      // 로그처리\n      this.receiptno = document.querySelector(\n        \"#checkmanager_receiptno\"\n      ).innerText;\n      this.log_data.postNo = \"1111101\";\n      this.log_data.boxNo = \"\";\n      this.log_data.userId = \"\";\n      this.log_data.menuName = \"[메뉴]사원증스캔\";\n      this.log_data.actionData = \"사원 인증(비밀번호):\" + this.receiptno;\n      axios\n        .post(\n          \"http://115.91.83.140:8910/admin/dispenserlog/create\",\n          this.log_data,\n          {\n            header: {\n              \"Context-Type\": \"multipart/form-data\",\n            },\n          }\n        )\n        .then((res) => {\n          // 성공했을 경우\n          console.log(\"성공\", res);\n          console.log(\"성공\", res.errno);\n        })\n        .catch((res) => {\n          // 실패했을 경우\n          console.error(\"실패 \", res);\n        });\n\n      // 사원비밀번호 인증확인\n      axios\n        .get(\"http://115.91.83.140:8910/admin/member/detail\", this.receiptno, {\n          header: {\n            \"Context-Type\": \"multipart/form-data\",\n          },\n        })\n        .then((res) => {\n          // 성공했을 경우\n          console.log(\"성공\", res);\n          console.log(\"성공\", res.data.errno);\n\n          if (res.data.errno == -1) {\n            console.log(res.data.errmsg, this.receiptno);\n            alert(\"존재하지 않는 비밀번호입니다.\");\n          } else {\n            this.$router.push(\"/reginoscan\");\n          }\n        })\n        .catch((res) => {\n          // 실패했을 경우\n          console.error(\"실패 \", res);\n        });\n      this.$router.push(\"/reginoscan\");\n    },\n  },\n  created() {},\n  mounted() {\n    document.querySelector(\".modal\").style.display = \"none\";\n  },\n};\n</script>\n<style></style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}