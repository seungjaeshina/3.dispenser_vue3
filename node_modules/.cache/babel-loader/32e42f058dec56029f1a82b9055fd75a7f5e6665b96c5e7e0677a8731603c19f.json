{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport '@/assets/css/input/reginoscan.css';\nimport axios from 'axios';\n//import { StreamQrcodeBarcodeReader, IconCameraVue } from 'vue3-barcode-qrcode-reader';\n\n//import dayjs from \"dayjs\"\n//const nowDay_json = \"@/assets/json/\" + dayjs().format('YYYY-MM-DD') + \".json\";\n//import json_day_log from nowDay_json;\n\nexport default {\n  name: \"RegiNoScan\",\n  data() {\n    return {\n      log_data: {},\n      regi_data: {}\n    };\n  },\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    goHome() {\n      this.$router.push('/');\n    },\n    onDecode(result) {\n      this.qrCodeData = result;\n    },\n    goSelectBox() {\n      // 로그처리\n      this.log_data.postNo = '1111101';\n      this.log_data.boxNo = '';\n      this.log_data.userId = '';\n      this.log_data.menuName = '[메뉴]등기번호스캔';\n      this.log_data.actionData = '등기번호 인증';\n      axios.post(\"http://localhost:8910/admin/dispenserlog/create\", this.log_data, {\n        header: {\n          \"Context-Type\": \"multipart/form-data\"\n        }\n      }).then(res => {\n        // 성공했을 경우\n        console.log(\"성공\", res);\n      }).catch(res => {\n        // 실패했을 경우\n        console.error(\"실패 \", res);\n      });\n\n      // 등기번호 인증\n      this.regi_data.postNo = '1111101';\n      axios.get(\"http://localhost:8910/admin/dispenser/checkregino\", this.regi_data, {\n        header: {\n          \"Context-Type\": \"multipart/form-data\"\n        }\n      }).then(res => {\n        // 성공했을 경우\n        console.log(\"성공\", res);\n        console.log(\"성공\", res.data.errno);\n        if (res.data.errno == -1) {\n          console.log(res.data.errmsg, this.request2_data.userId);\n          this.$router.push('/selectbox');\n        } else {\n          this.$router.push('/selectbox');\n        }\n      }).catch(res => {\n        // 실패했을 경우\n        console.error(\"실패 \", res);\n      });\n      this.$router.push('/selectbox');\n    }\n  },\n  created() {},\n  mounted() {}\n};","map":{"version":3,"names":["axios","name","data","log_data","regi_data","methods","goBack","$router","go","goHome","push","onDecode","result","qrCodeData","goSelectBox","postNo","boxNo","userId","menuName","actionData","post","header","then","res","console","log","catch","error","get","errno","errmsg","request2_data","created","mounted"],"sources":["D:\\0610\\1020_KoreaPost\\2.Dispenser\\02.Source\\3.dispenser_vue3\\src\\views\\input\\RegiNoScan.vue"],"sourcesContent":["<template>\n      <div>\n        <div class=\"wrap\">\n\n            <!-- ======== 카테고리 헤더 ======== -->\n            <div class=\"header\">\n                <div class=\"main_logo\" v-on:click=\"goHome\"></div>\n                <div class=\"header_title\">\n                    <div class=\"header_title_down\">등기번호 스캔</div>    \n                </div>\n                <div class=\"back\"  v-on:click=\"goBack\"></div>    \n            </div>\n\n            <!-- ======== 내용 ======== -->\n            <div class=\"reginoscan_container\">\n                <div class=\"reginoscan_area\" v-on:click=\"goSelectBox\">\n                    <div class=\"flex flex-col justify-center items-center\">\n                        <pre class=\"mb-8\">Result: {{ resultScan }}</pre>\n\n                        <div class=\"phone\">\n                            <div class=\"container-notch\">\n                                <div class=\"notch\"></div>\n                            </div>\n\n                        <div class=\"content\">\n                            <h3 v-if=\"!isLoading\" class=\"font-medium mb-4\">\n                                바코드 인식기\n                            </h3>\n                        <stream-qrcode-barcode-reader\n                            capture=\"shoot\"\n                            @onloading=\"onLoading\"\n                            @result=\"onResult\"\n                            class=\"rounded-2xl\"\n                        >\n                        <template #actions=\"{ onCanPlay, isReset, onReset }\">\n                            <button class=\"bg-green-300 px-6 py-1 rounded-md\" @click=\"onCanPlay\">\n                                Stream\n                            </button>\n                            <button v-if=\"isReset\" class=\"bg-blue-300 px-6 py-1 rounded-md ms-2\" @click=\"onReset()\">\n                                Reset\n                            </button>\n                        </template>\n\n                        <template #action-stop=\"{ onCanStop }\">\n                            <div class=\"container-btn-stop\">\n                                <button class=\"bg-pink-300 px-6 py-1 rounded-md\" @click=\"onCanStop()\">\n                                    Stop\n                                </button>\n                            </div>\n                        </template>\n\n                        <template #action-facemode=\"{ onChangeFacemode }\">\n                            <div class=\"container-btn-facemode\">\n                                <button \n                                class=\"bg-red-300 w-10 h-10 p-2 inline-flex justify-center items-center rounded-full\"\n                @click=\"onChangeFacemode\"\n              >\n                <icon-camera />\n              </button>\n            </div>\n          </template>\n        </stream-qrcode-barcode-reader>\n      </div>\n    </div>\n  </div>\n                </div>\n                <div class=\"reginoscan_ment\">\n                </div>\n            </div><!--container끝-->\n<!--\n            <div class=\"reginoscan_tail\" v-on:click=\"goSelectBox\">\n            </div>\n            -->\n        </div><!--wrap 끝-->\n\n    </div>\n</template>\n<script>\nimport '@/assets/css/input/reginoscan.css';\nimport axios from 'axios';\n//import { StreamQrcodeBarcodeReader, IconCameraVue } from 'vue3-barcode-qrcode-reader';\n\n//import dayjs from \"dayjs\"\n//const nowDay_json = \"@/assets/json/\" + dayjs().format('YYYY-MM-DD') + \".json\";\n//import json_day_log from nowDay_json;\n\nexport default {\n    name: \"RegiNoScan\",\n    data() {\n        return {\n            log_data :{},\n            regi_data :{},\n        };\n    },\n    methods: {\n        goBack(){\n            this.$router.go(-1);\n        },\n        goHome(){\n            this.$router.push('/');\n        },\n        onDecode (result) {\n            this.qrCodeData = result;\n        },\n        goSelectBox(){\n            // 로그처리\n            this.log_data.postNo = '1111101';\n            this.log_data.boxNo = '';\n            this.log_data.userId = '';\n            this.log_data.menuName = '[메뉴]등기번호스캔';\n            this.log_data.actionData = '등기번호 인증';\n            axios.post(\"http://localhost:8910/admin/dispenserlog/create\", this.log_data, {\n                header: {\n                    \"Context-Type\": \"multipart/form-data\",\n                },\n            })\n            .then((res) => { // 성공했을 경우\n                console.log(\"성공\", res);\n\n            })\n            .catch((res) => { // 실패했을 경우\n                console.error(\"실패 \", res);\n            });\n\n            // 등기번호 인증\n            this.regi_data.postNo = '1111101';\n            axios.get(\"http://localhost:8910/admin/dispenser/checkregino\", this.regi_data, {\n                header: {\n                    \"Context-Type\": \"multipart/form-data\",\n                },\n            })\n            .then((res) => { // 성공했을 경우\n                console.log(\"성공\", res);\n                console.log(\"성공\", res.data.errno);\n\n                if (res.data.errno == -1) {\n                    console.log(res.data.errmsg, this.request2_data.userId);\n                    this.$router.push('/selectbox');\n                } else {                \n                    this.$router.push('/selectbox');\n                }\n\n            })\n            .catch((res) => { // 실패했을 경우\n                console.error(\"실패 \", res);\n            });\n            \n            this.$router.push('/selectbox');\n        }     \n    },\n    created() {\n    },\n    mounted() {\n    }\n\n};\n</script>\n\n"],"mappings":";AA8EA,OAAO,mCAAmC;AAC1C,OAAOA,KAAI,MAAO,OAAO;AACzB;;AAEA;AACA;AACA;;AAEA,eAAe;EACXC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAO,EAAG,CAAC,CAAC;MACZC,SAAQ,EAAG,CAAC;IAChB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,MAAMA,CAAA,EAAE;MACJ,IAAI,CAACC,OAAO,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC;IACDC,MAAMA,CAAA,EAAE;MACJ,IAAI,CAACF,OAAO,CAACG,IAAI,CAAC,GAAG,CAAC;IAC1B,CAAC;IACDC,QAAOA,CAAGC,MAAM,EAAE;MACd,IAAI,CAACC,UAAS,GAAID,MAAM;IAC5B,CAAC;IACDE,WAAWA,CAAA,EAAE;MACT;MACA,IAAI,CAACX,QAAQ,CAACY,MAAK,GAAI,SAAS;MAChC,IAAI,CAACZ,QAAQ,CAACa,KAAI,GAAI,EAAE;MACxB,IAAI,CAACb,QAAQ,CAACc,MAAK,GAAI,EAAE;MACzB,IAAI,CAACd,QAAQ,CAACe,QAAO,GAAI,YAAY;MACrC,IAAI,CAACf,QAAQ,CAACgB,UAAS,GAAI,SAAS;MACpCnB,KAAK,CAACoB,IAAI,CAAC,iDAAiD,EAAE,IAAI,CAACjB,QAAQ,EAAE;QACzEkB,MAAM,EAAE;UACJ,cAAc,EAAE;QACpB;MACJ,CAAC,EACAC,IAAI,CAAEC,GAAG,IAAK;QAAE;QACbC,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEF,GAAG,CAAC;MAE1B,CAAC,EACAG,KAAK,CAAEH,GAAG,IAAK;QAAE;QACdC,OAAO,CAACG,KAAK,CAAC,KAAK,EAAEJ,GAAG,CAAC;MAC7B,CAAC,CAAC;;MAEF;MACA,IAAI,CAACnB,SAAS,CAACW,MAAK,GAAI,SAAS;MACjCf,KAAK,CAAC4B,GAAG,CAAC,mDAAmD,EAAE,IAAI,CAACxB,SAAS,EAAE;QAC3EiB,MAAM,EAAE;UACJ,cAAc,EAAE;QACpB;MACJ,CAAC,EACAC,IAAI,CAAEC,GAAG,IAAK;QAAE;QACbC,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEF,GAAG,CAAC;QACtBC,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEF,GAAG,CAACrB,IAAI,CAAC2B,KAAK,CAAC;QAEjC,IAAIN,GAAG,CAACrB,IAAI,CAAC2B,KAAI,IAAK,CAAC,CAAC,EAAE;UACtBL,OAAO,CAACC,GAAG,CAACF,GAAG,CAACrB,IAAI,CAAC4B,MAAM,EAAE,IAAI,CAACC,aAAa,CAACd,MAAM,CAAC;UACvD,IAAI,CAACV,OAAO,CAACG,IAAI,CAAC,YAAY,CAAC;QACnC,OAAO;UACH,IAAI,CAACH,OAAO,CAACG,IAAI,CAAC,YAAY,CAAC;QACnC;MAEJ,CAAC,EACAgB,KAAK,CAAEH,GAAG,IAAK;QAAE;QACdC,OAAO,CAACG,KAAK,CAAC,KAAK,EAAEJ,GAAG,CAAC;MAC7B,CAAC,CAAC;MAEF,IAAI,CAAChB,OAAO,CAACG,IAAI,CAAC,YAAY,CAAC;IACnC;EACJ,CAAC;EACDsB,OAAOA,CAAA,EAAG,CACV,CAAC;EACDC,OAAOA,CAAA,EAAG,CACV;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}