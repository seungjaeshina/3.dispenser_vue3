{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport '@/assets/css/input/checkmanager.css';\nimport axios from 'axios';\n\n//import dayjs from \"dayjs\"\n//const nowDay_json = \"@/assets/json/\" + dayjs().format('YYYY-MM-DD') + \".json\";\n//import json_day_log from nowDay_json;\n\nexport default {\n  name: \"CheckManager\",\n  data() {\n    return {\n      log_data: {},\n      member_data: {}\n    };\n  },\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    goHome() {\n      this.$router.push('/');\n    },\n    kbd_click() {\n      document.querySelector('.phonepad_info').style.display = 'block';\n      document.querySelector('.myitem').value = 'sms';\n      document.querySelector('.myinput').value = document.querySelector('#checkmanager_receiptno').innerText;\n      document.getElementById('myinput').focus();\n      document.getElementById('myinput').click();\n    },\n    goNum(num) {\n      var result = document.querySelector('#checkmanager_receiptno').innerText;\n      if (num == '11') {\n        if (result.length > 0) {\n          result = result.slice(0, -1);\n          document.querySelector('#checkmanager_receiptno').innerText = result;\n        }\n      } else {\n        result = document.querySelector('#checkmanager_receiptno').innerText;\n        result = result + '' + num;\n        document.querySelector('#checkmanager_receiptno').innerText = result;\n      }\n    },\n    goMemberNoScan() {\n      // 로그처리\n      var receiptno = document.querySelector('#checkmanager_receiptno').innerText;\n      this.log_data.postNo = '1111101';\n      this.log_data.boxNo = '';\n      this.log_data.userId = '';\n      this.log_data.menuName = '[메뉴]사원증스캔';\n      this.log_data.actionData = '사원 인증(비밀번호):' + receiptno;\n      axios.post(\"http://localhost:8910/admin/dispenserlog/create\", this.log_data, {\n        header: {\n          \"Context-Type\": \"multipart/form-data\"\n        }\n      }).then(res => {\n        // 성공했을 경우\n        console.log(\"성공\", res);\n        console.log(\"성공\", res.errno);\n      }).catch(res => {\n        // 실패했을 경우\n        console.error(\"실패 \", res);\n      });\n\n      // 사원비밀번호 인증확인\n      this.member_data.passwd = receiptno;\n      axios.get(\"http://localhost:8910/admin/member/detail\", this.member_data, {\n        header: {\n          \"Context-Type\": \"multipart/form-data\"\n        }\n      }).then(res => {\n        // 성공했을 경우\n        console.log(\"성공\", res);\n        console.log(\"성공\", res.data.errno);\n        if (res.data.errno == -1) {\n          console.log(res.data.errmsg, this.request2_data.userId);\n          alert('존재하지 않는 비밀번호입니다.');\n        } else {\n          this.$router.push('/reginoscan');\n        }\n      }).catch(res => {\n        // 실패했을 경우\n        console.error(\"실패 \", res);\n      });\n    }\n  },\n  created() {},\n  mounted() {\n    document.querySelector('.modal').style.display = 'none';\n  }\n};","map":{"version":3,"names":["axios","name","data","log_data","member_data","methods","goBack","$router","go","goHome","push","kbd_click","document","querySelector","style","display","value","innerText","getElementById","focus","click","goNum","num","result","length","slice","goMemberNoScan","receiptno","postNo","boxNo","userId","menuName","actionData","post","header","then","res","console","log","errno","catch","error","passwd","get","errmsg","request2_data","alert","created","mounted"],"sources":["D:\\0610\\1020_KoreaPost\\2.Dispenser\\02.Source\\3.dispenser_vue3\\src\\views\\input\\CheckManager.vue"],"sourcesContent":["import { StreamBarcodeReader } from \"vue-barcode-reader\";\n\n<template>\n    <div>\n        <div class=\"wrap\">\n\n            <!-- ======== 카테고리 헤더 ======== -->\n            <div class=\"header\">\n                <div class=\"main_logo\" v-on:click=\"goHome\"></div>\n                <div class=\"header_title\">\n                    <div class=\"header_title_down\">사원 인증</div>    \n                </div>\n                <div class=\"back\"  v-on:click=\"goBack\"></div>    \n            </div>\n\n            <!-- ======== 내용 ======== -->\n            <div class=\"checkmanager_container\">\n                <div class=\"column_info\">\n                    <div class=\"checkmanager_label\"  id=\"checkmanager_receiptno_label\">비밀번호</div>\n                    <div class=\"checkmanager_input\"  id=\"checkmanager_receiptno\" contenteditable=\"true\" autofocus v-on:click=\"kbd_click('checkmanager_receiptno')\"></div>\n                </div>\n\n                <input type=\"hidden\" class=\"myitem\" ref=\"myitem\" id=\"myitem\" name=\"myitem\" />\n                <input type=\"hidden\" class=\"myinput\" ref=\"myinput\" id=\"myinput\" name=\"myinput\"/>\n\n                <div class=\"phonepad_info\">\n                    <div class=\"pad_num\">  \n                        <div class=\"num1\"  v-on:click=\"goNum('1')\"></div>\n                        <div class=\"num2\"  v-on:click=\"goNum('2')\"></div>\n                        <div class=\"num3\"  v-on:click=\"goNum('3')\"></div>\n                    </div>\n                    <div class=\"pad_num\">  \n                        <div class=\"num4\"  v-on:click=\"goNum('4')\"></div>\n                        <div class=\"num5\"  v-on:click=\"goNum('5')\"></div>\n                        <div class=\"num6\"  v-on:click=\"goNum('6')\"></div>\n                    </div>\n                    <div class=\"pad_num\">  \n                        <div class=\"num7\"  v-on:click=\"goNum('7')\"></div>\n                        <div class=\"num8\"  v-on:click=\"goNum('8')\"></div>\n                        <div class=\"num9\"  v-on:click=\"goNum('9')\"></div>\n                    </div>\n                    <div class=\"pad_num\">  \n                        <div class=\"num0\"  v-on:click=\"goNum('0')\"></div>\n                        <div class=\"num_back\"  v-on:click=\"goNum('11')\"></div>\n                        <div class=\"numconfirm\"  v-on:click=\"goMemberNoScan\"></div>\n                    </div>\n                </div>\n\n                <div class=\"checkmanager_ment\" v-on:click=\"goMemberNoScan\">\n                </div>\n\n                <div class=\"keyboardzone\" id=\"keyboardzone\"></div>\n\n                <!-- ======== 모달창 ======== -->\n                <div class=\"modal\" id=\"modal2\" ref=\"modal2\" v-bind:class=\"{ 'modal-on': isModal }\">\n                    <div class=\"modal-content\">\n                        <h1 ref=\"msg\">인증번호가 존재하지 않습니다.</h1>\n                        <button v-on:click=\"modalClose\">확인</button>\n                    </div>\n                </div>\n\n            </div><!--container끝-->\n\n        </div><!--wrap 끝-->\n\n    </div>\n</template>\n<script>\nimport '@/assets/css/input/checkmanager.css';\nimport axios from 'axios';\n\n//import dayjs from \"dayjs\"\n//const nowDay_json = \"@/assets/json/\" + dayjs().format('YYYY-MM-DD') + \".json\";\n//import json_day_log from nowDay_json;\n\nexport default {\n    name: \"CheckManager\",\n    data() {\n        return {\n            log_data :{},\n            member_data :{},\n        };\n    },\n    methods: {\n        goBack(){\n            this.$router.go(-1);\n        },\n        goHome(){\n            this.$router.push('/');\n        },\n        kbd_click(){\n            document.querySelector('.phonepad_info').style.display = 'block';\n            document.querySelector('.myitem').value = 'sms';\n            document.querySelector('.myinput').value = document.querySelector('#checkmanager_receiptno').innerText;        \n            document.getElementById('myinput').focus();\n            document.getElementById('myinput').click();\n        },\n        goNum(num){\n            var result = document.querySelector('#checkmanager_receiptno').innerText;\n            if (num=='11') {\n                if (result.length > 0) {\n                    result = result.slice(0, -1); \n                    document.querySelector('#checkmanager_receiptno').innerText = result;\n                }       \n            } else {\n                    result = document.querySelector('#checkmanager_receiptno').innerText;\n                    result = result + '' + num; \n                    document.querySelector('#checkmanager_receiptno').innerText = result;\n            }    \n        },\n        goMemberNoScan(){\n            // 로그처리\n            var receiptno = document.querySelector('#checkmanager_receiptno').innerText;\n            this.log_data.postNo = '1111101';\n            this.log_data.boxNo = '';\n            this.log_data.userId = '';\n            this.log_data.menuName = '[메뉴]사원증스캔';\n            this.log_data.actionData = '사원 인증(비밀번호):'+receiptno;\n            axios.post(\"http://localhost:8910/admin/dispenserlog/create\", this.log_data, {\n                header: {\n                    \"Context-Type\": \"multipart/form-data\",\n                },\n            })\n            .then((res) => { // 성공했을 경우\n                console.log(\"성공\", res);\n                console.log(\"성공\", res.errno);\n\n            })\n            .catch((res) => { // 실패했을 경우\n                console.error(\"실패 \", res);\n            });\n\n            // 사원비밀번호 인증확인\n            this.member_data.passwd = receiptno;\n            axios.get(\"http://localhost:8910/admin/member/detail\", this.member_data, {\n                header: {\n                    \"Context-Type\": \"multipart/form-data\",\n                },\n            })\n            .then((res) => { // 성공했을 경우\n                console.log(\"성공\", res);\n                console.log(\"성공\", res.data.errno);\n\n                if (res.data.errno == -1) {\n                    console.log(res.data.errmsg, this.request2_data.userId);\n                    alert('존재하지 않는 비밀번호입니다.');\n                } else {                \n                    this.$router.push('/reginoscan');\n                }\n\n            })\n            .catch((res) => { // 실패했을 경우\n                console.error(\"실패 \", res);\n            });\n                },\n    },\n    created() {\n    },\n    mounted() {\n        document.querySelector('.modal').style.display = 'none';\n    }\n\n};\n</script>\n<style></style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}