{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"wrap\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"header_title\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"header_title_down\"\n}, \"본인 싸인\")], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"sign_container\"\n};\nconst _hoisted_5 = {\n  class: \"column_info\"\n};\nconst _hoisted_6 = {\n  class: \"container\"\n};\nconst _hoisted_7 = {\n  class: \"buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_VueSignaturePad = _resolveComponent(\"VueSignaturePad\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" ======== 카테고리 헤더 ======== \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: \"main_logo\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goHome && $options.goHome(...args))\n  }), _hoisted_3, _createElementVNode(\"div\", {\n    class: \"back\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.goBack && $options.goBack(...args))\n  })]), _createCommentVNode(\" ======== 내용 나오는곳 ======== \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_VueSignaturePad, {\n    id: \"signature\",\n    width: \"100%\",\n    height: \"500px\",\n    ref: \"signaturePad\",\n    options: _ctx.options\n  }, null, 8 /* PROPS */, [\"options\"])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: $setup.undo\n  }, \"Undo\"), _createElementVNode(\"button\", {\n    onClick: $setup.save\n  }, \"Save\"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.change && _ctx.change(...args))\n  }, \"Change Color\"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => _ctx.resume && _ctx.resume(...args))\n  }, \"Resume Color\")])])]), _createElementVNode(\"div\", {\n    class: \"tail\",\n    onClick: _cache[4] || (_cache[4] = $event => {\n      _ctx.goMenu('dispenser_menu01_open_box.html');\n    })\n  })]), _createCommentVNode(\"wrap 끝\")]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createCommentVNode","_hoisted_2","onClick","_cache","args","$options","goHome","_hoisted_3","goBack","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_VueSignaturePad","id","width","height","ref","options","_ctx","_hoisted_7","$setup","undo","save","change","resume","$event","goMenu"],"sources":["D:\\0610\\1020_KoreaPost\\2.Dispenser\\02.Source\\dispenser_vue3\\src\\views\\receipt\\ReceiptSign.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"wrap\">\n\n            <!-- ======== 카테고리 헤더 ======== -->\n            <div class=\"header\">\n                <div class=\"main_logo\" v-on:click=\"goHome\"></div>\n                <div class=\"header_title\">\n                    <div class=\"header_title_down\">본인 싸인</div>    \n                </div>\n                <div class=\"back\"  v-on:click=\"goBack\"></div>    \n            </div>\n\n\n            <!-- ======== 내용 나오는곳 ======== -->\n            <div class=\"sign_container\">\n                <div class=\"column_info\">\n  \n   <div class=\"container\">\n        <VueSignaturePad\n          id=\"signature\"\n          width=\"100%\"\n          height=\"500px\"\n          ref=\"signaturePad\"\n          :options=\"options\"\n        />\n      </div>\n      <div class=\"buttons\">\n        <button @click=\"undo\">Undo</button>\n        <button @click=\"save\">Save</button>\n        <button @click=\"change\">Change Color</button>\n        <button @click=\"resume\">Resume Color</button>\n      </div>                     </div>          \n            </div>            \n\n            <div class=\"tail\"  v-on:click=\"goMenu('dispenser_menu01_open_box.html');\">\n            </div>\n\n        </div><!--wrap 끝-->\n\n    </div>\n</template>\n\n<script setup>\nimport SignaturePad from \"signature_pad\";\nimport {onMounted, reactive, watch} from \"vue\";\n\nconst props = defineProps({\n  sigOption: {\n    type: Object,\n    default: () => {\n      return {\n        backgroundColor: \"rgb(255,255,255)\",\n        penColor: \"rgb(0, 0, 0)\",\n      };\n    },\n  },\n  w: {\n    type: String,\n    default: \"100%\",\n  },\n  h: {\n    type: String,\n    default: \"100%\",\n  },\n  clearOnResize: {\n    type: Boolean,\n    default: false,\n  },\n  waterMark: {\n    type: Object,\n    default: () => {\n      return {};\n    },\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n  defaultUrl: {\n    type: String,\n    default: \"\",\n  }\n})\n\nlet state = reactive({\n  sig: () => {\n  },\n  option: {\n    backgroundColor: \"rgb(255,255,255)\",\n    penColor: \"rgb(0, 0, 0)\",\n  },\n  uid: \"\",\n});\n\nstate.uid = \"canvas\" + Math.random();\n\nlet sigOptions = Object.keys(props.sigOption);\nfor (let item of sigOptions) {\n  state.option[item] = props.sigOption[item];\n}\n\nwatch(\n    () => props.disabled,\n    (val) => {\n      if (val) {\n        state.sig.off();\n      } else {\n        state.sig.on();\n      }\n    }\n);\n\nconst draw = () => {\n  let canvas = document.getElementById(state.uid);\n  state.sig = new SignaturePad(canvas, state.option);\n\n  function resizeCanvas(c) {\n    let url;\n    if (!isEmpty()) {\n      url = save();\n    }\n    let ratio = Math.max(window.devicePixelRatio || 1, 1);\n    const reg = RegExp(/px/)\n    c.width = reg.test(props.w) ? props.w.replace(/px/g, \"\") * ratio : c.offsetWidth * ratio;\n    c.height = reg.test(props.h) ? props.h.replace(/px/g, \"\") * ratio : c.offsetHeight * ratio;\n    c.getContext(\"2d\").scale(ratio, ratio);\n    clear();\n    !props.clearOnResize && url !== undefined && fromDataURL(url);\n    Object.keys(props.waterMark).length && addWaterMark(props.waterMark);\n  }\n\n  window.addEventListener(\"resize\", resizeCanvas(canvas));\n  resizeCanvas(canvas);\n  if (props.defaultUrl !== \"\") {\n    fromDataURL(props.defaultUrl);\n  }\n  if (props.disabled) {\n    state.sig.off();\n  } else {\n    state.sig.on();\n  }\n};\n\nconst clear = () => {\n  state.sig.clear();\n};\nconst save = (format) => {\n  return format ? state.sig.toDataURL(format) : state.sig.toDataURL();\n  // signaturePad.toDataURL(); // save image as PNG\n  // signaturePad.toDataURL(\"image/jpeg\"); // save image as JPEG\n  // signaturePad.toDataURL(\"image/svg+xml\"); // save image as SVG\n};\nconst fromDataURL = (url) => {\n  state.sig.fromDataURL(url);\n};\nconst isEmpty = () => {\n  return state.sig.isEmpty();\n};\nconst undo = () => {\n  let data = state.sig.toData();\n  if (data) {\n    data.pop();\n    state.sig.fromData(data);\n  }\n};\nconst addWaterMark = (data) => {\n  if (!(Object.prototype.toString.call(data) == \"[object Object]\")) {\n    throw new Error(\"Expected Object, got \" + typeof data + \".\");\n  } else {\n    let vCanvas = document.getElementById(state.uid);\n    let textData = {\n      text: data.text || \"\",\n      x: data.x || 20,\n      y: data.y || 20,\n      sx: data.sx || 40,\n      sy: data.sy || 40,\n    };\n\n    let ctx = vCanvas.getContext(\"2d\");\n    ctx.font = data.font || \"20px sans-serif\";\n    ctx.fillStyle = data.fillStyle || \"#333\";\n    ctx.strokeStyle = data.strokeStyle || \"#333\";\n    if (data.style == \"all\") {\n      ctx.fillText(textData.text, textData.x, textData.y);\n      ctx.strokeText(textData.text, textData.sx, textData.sy);\n    } else if (data.style == \"stroke\") {\n      ctx.strokeText(textData.text, textData.sx, textData.sy);\n    } else {\n      ctx.fillText(textData.text, textData.x, textData.y);\n    }\n    state.sig._isEmpty = false;\n  }\n};\n\nonMounted(() => {\n  draw();\n})\n\ndefineExpose({\n  save,\n  clear,\n  isEmpty,\n  undo,\n  addWaterMark,\n  fromDataURL\n})\n</script>\n\n<style>\ncanvas {\n  width: 100%;\n  height: 100%;\n}\n</style>\n\n<script>\nimport '@/assets/css/receipt/receiptsign.css';\n\n//import axios from 'axios';\n//import functions from '@/assets/js/functions.js'\n\nexport default {\n    name: \"ReceiptSign\",\n    data() {\n        return {\n            data : ''\n        };\n    },\n    COMPONENT() {\n    },\n    methods: {\n        goBack(){\n            this.$router.go(-1);\n        },\n        goHome(){\n            this.$router.push('/');\n        },\n        goEasySender(){\n            this.$router.push('/easysender');\n        },\n        modalClose() {\n            this.$refs.modal2.style.display = 'none'; \n        }\n    },\n\n    created() {\n    },\n    mounted() {\n    }\n\n};\n</script>\n"],"mappings":";;EAEaA,KAAK,EAAC;AAAM;;EAGRA,KAAK,EAAC;AAAQ;gCAEfC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAc,I,aACrBC,mBAAA,CAA0C;EAArCD,KAAK,EAAC;AAAmB,GAAC,OAAK,E;;EAOvCA,KAAK,EAAC;AAAgB;;EAClBA,KAAK,EAAC;AAAa;;EAEhCA,KAAK,EAAC;AAAW;;EASdA,KAAK,EAAC;AAAS;;;uBA1BtBE,mBAAA,CAuCM,cAtCFD,mBAAA,CAoCM,OApCNE,UAoCM,GAlCFC,mBAAA,+BAAkC,EAClCH,mBAAA,CAMM,OANNI,UAMM,GALFJ,mBAAA,CAAiD;IAA5CD,KAAK,EAAC,WAAW;IAAMM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;MACzCG,UAEM,EACNV,mBAAA,CAA6C;IAAxCD,KAAK,EAAC,MAAM;IAAOM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAG,MAAA,IAAAH,QAAA,CAAAG,MAAA,IAAAJ,IAAA,CAAM;QAIzCJ,mBAAA,+BAAkC,EAClCH,mBAAA,CAkBM,OAlBNY,UAkBM,GAjBFZ,mBAAA,CAgBuB,OAhBvBa,UAgBuB,GAdpCb,mBAAA,CAQS,OARTc,UAQS,GAPJC,YAAA,CAMEC,0BAAA;IALAC,EAAE,EAAC,WAAW;IACdC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,OAAO;IACdC,GAAG,EAAC,cAAc;IACjBC,OAAO,EAAEC,IAAA,CAAAD;0CAGdrB,mBAAA,CAKM,OALNuB,UAKM,GAJJvB,mBAAA,CAAmC;IAA1BK,OAAK,EAAEmB,MAAA,CAAAC;EAAI,GAAE,MAAI,GAC1BzB,mBAAA,CAAmC;IAA1BK,OAAK,EAAEmB,MAAA,CAAAE;EAAI,GAAE,MAAI,GAC1B1B,mBAAA,CAA6C;IAApCK,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEe,IAAA,CAAAK,MAAA,IAAAL,IAAA,CAAAK,MAAA,IAAApB,IAAA,CAAM;KAAE,cAAY,GACpCP,mBAAA,CAA6C;IAApCK,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEe,IAAA,CAAAM,MAAA,IAAAN,IAAA,CAAAM,MAAA,IAAArB,IAAA,CAAM;KAAE,cAAY,E,OAIhCP,mBAAA,CACM;IADDD,KAAK,EAAC,MAAM;IAAOM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAuB,MAAA;MAAEP,IAAA,CAAAQ,MAAM;IAAA;QAGnC3B,mBAAA,UAAa,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}