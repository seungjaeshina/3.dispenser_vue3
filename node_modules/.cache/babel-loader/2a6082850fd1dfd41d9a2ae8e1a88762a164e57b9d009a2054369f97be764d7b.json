{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport '@/assets/css/payment/confirmpayment.css';\nimport dayjs from \"dayjs\";\nimport axios from 'axios';\nimport json_log from \"@/assets/json/log.json\";\nexport default {\n  name: \"ConfirmPayment\",\n  props: ['options'],\n  // {width, height, border, lineColor, lineWidth, functions:{download: boolean, ...}}\n  data() {\n    return {\n      localOptions: {},\n      isDrawing: false,\n      fileName: 'signpad',\n      canvasPad: {},\n      canvasPadContext: {},\n      currentPosition: {\n        x: 0,\n        y: 0\n      },\n      previousPosition: {\n        x: 0,\n        y: 0\n      },\n      amount: 0\n    };\n  },\n  components: {},\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    goHome() {\n      this.$router.push('/');\n    },\n    goPrintTag() {\n      this.$router.push('/printtag');\n    },\n    getPosition(canvasDom, event) {\n      const rect = canvasDom.getBoundingClientRect();\n      return {\n        x: String(event.type).includes('mouse') ? event.clientX - rect.left : event.touches[0].clientX - rect.left,\n        y: String(event.type).includes('mouse') ? event.clientY - rect.top : event.touches[0].clientY - rect.top\n      };\n    },\n    draw() {\n      if (this.isDrawing) {\n        this.canvasPadContext.beginPath();\n        this.canvasPadContext.moveTo(this.previousPosition.x, this.previousPosition.y);\n        this.canvasPadContext.lineTo(this.currentPosition.x, this.currentPosition.y);\n        this.canvasPadContext.strokeStyle = this.localOptions.lineColor;\n        this.canvasPadContext.lineWidth = this.localOptions.lineWidth;\n        this.canvasPadContext.stroke();\n        this.canvasPadContext.closePath();\n        this.previousPosition = this.currentPosition;\n        this.$emit('draw', this.canvasPad);\n      }\n    },\n    onStart(e) {\n      e.preventDefault();\n      this.isDrawing = true;\n      this.previousPosition = this.currentPosition;\n      this.currentPosition = this.getPosition(this.canvasPad, e);\n    },\n    onEnd(e) {\n      e.preventDefault();\n      this.isDrawing = false;\n    },\n    onMove(e) {\n      if (!this.isDrawing) return;\n      this.previousPosition = this.currentPosition;\n      this.currentPosition = this.getPosition(this.canvasPad, e);\n      this.draw();\n    },\n    clear() {\n      this.canvasPad.width = 995;\n      this.$emit('clear');\n    },\n    downloadImage() {\n      // TODO: background color issue\n      const anchor = document.createElement('a');\n      anchor.href = this.canvasPad.toDataURL();\n      anchor.download = this.fileName;\n      anchor.click();\n    }\n  },\n  created() {\n    // Apply default values if need\n    this.localOptions = Object.assign({\n      width: '700px',\n      height: '369px',\n      border: '0px solid black',\n      lineColor: '#000000',\n      lineWidth: 0,\n      functions: {\n        download: false\n      }\n    }, this.options);\n  },\n  mounted() {\n    this.amount = json_log.box_amt;\n    this.canvasPad = this.$refs.canvasPad;\n    this.canvasPadContext = this.canvasPad.getContext('2d');\n  }\n};","map":{"version":3,"names":["dayjs","axios","json_log","name","props","data","localOptions","isDrawing","fileName","canvasPad","canvasPadContext","currentPosition","x","y","previousPosition","amount","components","methods","goBack","$router","go","goHome","push","goPrintTag","getPosition","canvasDom","event","rect","getBoundingClientRect","String","type","includes","clientX","left","touches","clientY","top","draw","beginPath","moveTo","lineTo","strokeStyle","lineColor","lineWidth","stroke","closePath","$emit","onStart","e","preventDefault","onEnd","onMove","clear","width","downloadImage","anchor","document","createElement","href","toDataURL","download","click","created","Object","assign","height","border","functions","options","mounted","box_amt","$refs","getContext"],"sources":["D:\\0610\\1020_KoreaPost\\1.Receipto\\Receiptor\\src\\views\\payment\\ConfirmPayment.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"wrap\">\n\n            <!-- ======== 카테고리 헤더 ======== -->\n            <div class=\"header\">\n                <div class=\"main_logo\" v-on:click=\"goHome\"></div>\n                <div class=\"header_title\">\n                    <div class=\"header_title_down\">결제하기</div>    \n                </div>\n                <div class=\"back\"  v-on:click=\"goBack\"></div>    \n            </div>\n\n            <!-- ======== 내용 나오는곳 ======== -->\n            <div class=\"confirmpayment_container\">\n                <div class=\"confirmpayment_area\">\n                </div>\n\n                <div class=\"confirmpayment_sum_area\">{{ amount }}\n                </div>\n                \n                <div class=\"confirmpayment_signpad_area\">\n                    <div class=\"confirmpayment_signpad\">\n                        <canvas ref=\"canvasPad\" \n                            v-bind:style=\"{border: localOptions.border}\"\n                            v-bind:width=\"localOptions.width\"\n                            v-bind:height=\"localOptions.height\"\n                            @touchstart=\"onStart\" @touchend=\"onEnd\" @touchmove=\"onMove\" \n                            @mousedown=\"onStart\" @mouseup=\"onEnd\" @mousemove=\"onMove\">\n                        </canvas>\n                    </div>\n                    <div class=\"confirmpayment_signpad_img\" v-on:click=\"clear\"></div>\n                </div>\n\n            </div><!--container끝-->\n\n            <div class=\"confirmpayment_btn_area\">\n                <div class=\"confirmpayment_btn\" v-on:click=\"goPrintTag\"></div>\n            </div>\n\n        </div><!--wrap 끝-->\n\n    </div>\n</template>\n\n<script>\nimport '@/assets/css/payment/confirmpayment.css';\nimport dayjs from \"dayjs\";\nimport axios from 'axios';\nimport json_log from \"@/assets/json/log.json\";\n\nexport default {\n    name: \"ConfirmPayment\",\n    props: ['options'], // {width, height, border, lineColor, lineWidth, functions:{download: boolean, ...}}\n    data () {\n        return {\n            localOptions: {},\n            isDrawing: false,\n            fileName: 'signpad',\n            canvasPad: {},\n            canvasPadContext: {},\n            currentPosition: { x: 0, y: 0 },\n            previousPosition: { x: 0, y: 0 },\n            amount :0,\n\n        }\n    },\n\n    components: {\n    },\n    methods: {\n        goBack(){\n            this.$router.go(-1);\n        },\n        goHome(){\n            this.$router.push('/');\n        },\n        goPrintTag(){\n            this.$router.push('/printtag');\n        },\n        getPosition(canvasDom, event) {\n            const rect = canvasDom.getBoundingClientRect()\n            return {\n                x: String(event.type).includes('mouse') ? event.clientX - rect.left : event.touches[0].clientX - rect.left,\n                y: String(event.type).includes('mouse') ? event.clientY - rect.top : event.touches[0].clientY - rect.top\n            }\n        },\n        draw() {\n            if (this.isDrawing) {\n                this.canvasPadContext.beginPath()\n                this.canvasPadContext.moveTo(this.previousPosition.x, this.previousPosition.y)\n                this.canvasPadContext.lineTo(this.currentPosition.x, this.currentPosition.y)\n                this.canvasPadContext.strokeStyle = this.localOptions.lineColor\n                this.canvasPadContext.lineWidth = this.localOptions.lineWidth\n                this.canvasPadContext.stroke()\n                this.canvasPadContext.closePath()\n                this.previousPosition = this.currentPosition\n                this.$emit('draw', this.canvasPad)\n            }\n        },\n        onStart(e) {\n            e.preventDefault()\n            this.isDrawing = true\n            this.previousPosition = this.currentPosition\n            this.currentPosition = this.getPosition(this.canvasPad, e)\n        },\n        onEnd(e) {\n            e.preventDefault()\n            this.isDrawing = false\n        },\n        onMove(e) {\n            if (!this.isDrawing) return\n            this.previousPosition = this.currentPosition\n            this.currentPosition = this.getPosition(this.canvasPad, e)\n            this.draw()\n        },\n        clear() {\n            this.canvasPad.width = 995\n            this.$emit('clear')\n        },\n        downloadImage() {\n            // TODO: background color issue\n            const anchor = document.createElement('a')\n            anchor.href = this.canvasPad.toDataURL()\n            anchor.download = this.fileName\n            anchor.click()\n        }\n\n\n    },\n    created() {\n        // Apply default values if need\n        this.localOptions = Object.assign({width: '700px', height: '369px', border: '0px solid black', lineColor: '#000000', lineWidth: 0, functions: {download: false}}, this.options)\n    },\n    mounted() {\n        this.amount = json_log.box_amt;\n\n        this.canvasPad = this.$refs.canvasPad\n        this.canvasPadContext = this.canvasPad.getContext('2d')\n    }\n\n};\n</script>\n\n\n<style>\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}