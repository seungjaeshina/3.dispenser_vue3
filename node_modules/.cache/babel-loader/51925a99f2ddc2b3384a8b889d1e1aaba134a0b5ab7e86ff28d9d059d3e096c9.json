{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"wrap\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"header_title\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"header_title_down\"\n}, \"등기번호 스캔\")], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"reginoscan_container\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"reginoscan_ment\"\n}, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" ======== 카테고리 헤더 ======== \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: \"main_logo\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.goHome && _ctx.goHome(...args))\n  }), _hoisted_3, _createElementVNode(\"div\", {\n    class: \"back\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.goBack && _ctx.goBack(...args))\n  })]), _createCommentVNode(\" ======== 내용 ======== \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    class: \"reginoscan_area\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.goSelectBox && _ctx.goSelectBox(...args))\n  }), _hoisted_5]), _createCommentVNode(\"container끝\"), _createCommentVNode(\"\\n            <div class=\\\"reginoscan_tail\\\" v-on:click=\\\"goSelectBox\\\">\\n            </div>\\n            \")]), _createCommentVNode(\"wrap 끝\")]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createCommentVNode","_hoisted_2","onClick","_cache","args","_ctx","goHome","_hoisted_3","goBack","_hoisted_4","goSelectBox","_hoisted_5"],"sources":["D:\\0610\\1020_KoreaPost\\2.Dispenser\\02.Source\\3.dispenser_vue3\\src\\views\\input\\RegiNoScan.vue"],"sourcesContent":["<template>\n      <div>\n        <div class=\"wrap\">\n\n            <!-- ======== 카테고리 헤더 ======== -->\n            <div class=\"header\">\n                <div class=\"main_logo\" v-on:click=\"goHome\"></div>\n                <div class=\"header_title\">\n                    <div class=\"header_title_down\">등기번호 스캔</div>    \n                </div>\n                <div class=\"back\"  v-on:click=\"goBack\"></div>    \n            </div>\n\n            <!-- ======== 내용 ======== -->\n            <div class=\"reginoscan_container\">\n                <div class=\"reginoscan_area\" v-on:click=\"goSelectBox\">\n                </div>\n\n                <div class=\"reginoscan_ment\">\n                </div>\n            </div><!--container끝-->\n<!--\n            <div class=\"reginoscan_tail\" v-on:click=\"goSelectBox\">\n            </div>\n            -->\n        </div><!--wrap 끝-->\n\n    </div>\n</template>\n<script>\nimport '@/assets/css/input/reginoscan.css';\nimport axios from 'axios';\n//import { SerialPort } from 'serialport';\n\n//import dayjs from \"dayjs\"\n//const nowDay_json = \"@/assets/json/\" + dayjs().format('YYYY-MM-DD') + \".json\";\n//import json_day_log from nowDay_json;\n\nexport default {\n    name: \"RegiNoScan\",\n    data() {\n        return {\n            log_data :{},\n            regi_data :{},\n        };\n    },\n    methods: {\n        goBack(){\n            this.$router.go(-1);\n        },\n        goHome(){\n            this.$router.push('/');\n        },\n        onDecode (result) {\n            this.qrCodeData = result;\n        },\n            function checkQR(){\n        axios({\n            method: 'get',\n            url: 'http://localhost:5193/api/scanQR',\n            timeout : 30000, \n            headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n            data: {}\n        })\n        .then(function(response) {\n            if (response.status === 200) {\n                const responseBody = response.data;\n                console.log(responseBody);\n                console.log(\"qrCode :\"+responseBody.qrCode);\n                saveKiosk('s_qrcode',responseBody.qrCode);\n\n\n                var sendData2 = new FormData();\n                sendData2.append(\"epostId\", \"\");\n                sendData2.append(\"telNo\", \"\");\n                sendData2.append(\"passWord\", \"\");\n                sendData2.append(\"tmpRecevNo\", responseBody.qrCode.toString());\n\n                axios({\n                    method: 'post',\n                    //url: \"http://testkpl.koreapost.go.kr/autoPost/RetrievePreRecevList2.jsp\",\n                    url: \"http://118.217.181.132/autoPost/RetrievePreRecevList2.php\",\n                    timeout : 30000, \n                    headers: {\n                            \"Content-Type\": \"application/x-www-form-urlencoded\"\n                        }, \n                        //data:trans_data\n                        data:sendData2\n                })\n                .then(function(response) {\n                    if (response.status === 200) {\n                        const responseBody = response.data;\n                        console.log(responseBody);\n                        var xmlData = $(responseBody).find(\"list\");\n                        var listLength = xmlData.length;\n                        console.log(listLength);\n                        var htmlStr = \"\";\n                        var cntNum = 0;\n                        if(listLength){\n                            htmlStr += \"<table id='addr' style='border-collapse: collapse'>\";\n                            $(xmlData).each(function(){\n                                // constentStr += (this).find(\"CITYDIVNM\").text();\n                                if($(this).find(\"sendPrsnZipCd\").text() !== \"\"){\n                                    console.log($(this).find(\"sendPrsnZipCd\").text() + \" \"+ $(this).find(\"sendPrsnAddr\").text() + \" \"+ $(this).find(\"sendPrsnDtailAddr\").text() \n                                    + \" \"+ $(this).find(\"sendPrsnNm\").text()+ \" \"+ $(this).find(\"sendPrsnHTelFno\").text()+ \" \"+ $(this).find(\"sendPrsnHTelMno\").text()+ \" \"+ $(this).find(\"sendPrsnHTelLno\").text()\n                                    + \" \"+ $(this).find(\"sendPrsnTelFno\").text()+ \" \"+ $(this).find(\"sendPrsnTelMno\").text()+ \" \"+ $(this).find(\"sendPrsnTelLno\").text()+ \" \"\n                                    + \" \"+$(this).find(\"recPrsnZipCd\").text() + \" \"+ $(this).find(\"recPrsnAddr\").text() + \" \"+ $(this).find(\"recPrsnDtailAddr\").text() \n                                    + \" \"+ $(this).find(\"recPrsnNm\").text()+ \" \"+ $(this).find(\"recPrsnHTelFno\").text()+ \" \"+ $(this).find(\"recPrsnHTelMno\").text()+ \" \"+ $(this).find(\"recPrsnHTelLno\").text()\n                                    + \" \"+ $(this).find(\"recPrsnTelFno\").text()+ \" \"+ $(this).find(\"recPrsnTelMno\").text()+ \" \"+ $(this).find(\"recPrsnTelLno\").text()\n                                    );\n                                    var dataCollect = $(this).find(\"sendPrsnZipCd\").text() + \"|||\"+ $(this).find(\"sendPrsnAddr\").text() + \"|||\"+ $(this).find(\"sendPrsnDtailAddr\").text() \n                                    + \"|||\"+ $(this).find(\"sendPrsnNm\").text()+ \"|||\"+ $(this).find(\"sendPrsnHTelFno\").text()+ \"|||\"+ $(this).find(\"sendPrsnHTelMno\").text()+ \"|||\"+ $(this).find(\"sendPrsnHTelLno\").text()\n                                    + \"|||\"+ $(this).find(\"sendPrsnTelFno\").text()+ \"|||\"+ $(this).find(\"sendPrsnTelMno\").text()+ \"|||\"+ $(this).find(\"sendPrsnTelLno\").text()+ \"|||\"\n                                    + \"|||\"+$(this).find(\"recPrsnZipCd\").text() + \"|||\"+ $(this).find(\"recPrsnAddr\").text() + \"|||\"+ $(this).find(\"recPrsnDtailAddr\").text() \n                                    + \"|||\"+ $(this).find(\"recPrsnNm\").text()+ \"|||\"+ $(this).find(\"recPrsnHTelFno\").text()+ \"|||\"+ $(this).find(\"recPrsnHTelMno\").text()+ \"|||\"+ $(this).find(\"recPrsnHTelLno\").text()\n                                    + \"|||\"+ $(this).find(\"recPrsnTelFno\").text()+ \"|||\"+ $(this).find(\"recPrsnTelMno\").text()+ \"|||\"+ $(this).find(\"recPrsnTelLno\").text();\n\n                                    localStorage.setItem(\"data\"+cntNum,dataCollect);\n\n                                    htmlStr += \"<tr style='width:100%; border: 1px solid; padding-top:5px; padding-bottom:5px;'>\";\n                                    htmlStr += \"<td style='width:90%; padding-left: 10px; font-size: 20px'>수신인 : \"+$(this).find(\"recPrsnNm\").text() + \"<br>수신인 주소 : \"+ $(this).find(\"recPrsnAddr\").text() +\"<br>\";\n                                    htmlStr += \"<td style='width:10%;'>\"+\"<input type='button' class='checkBtn' value='선택' style='cursor:pointer' onClick='checkUseData(\"+cntNum+\")' />\"+\"</td>\";\n                                    htmlStr += \"</tr><tr></tr>\";\n                                    cntNum++;\n                                }\n\n                            });\n                            htmlStr += \"</table>\";\n                            localStorage.setItem(\"row\",cntNum);\n                            $(\"#popup_contents\").html(htmlStr);\n                        }\n                        openPop();\n\n                    } else {\n                        console.error('error:', response.statusText);\n                    }\n                })\n                .catch(function(error) {\n                    console.error('error:', error);\n                });\n            } else {\n                console.error('error:', response.statusText);\n            }\n        })\n        .catch(function(error) {\n            console.error('error:', error);\n        });\n    }\n\n        goSelectBox(){\n            // 로그처리\n            this.log_data.postNo = '1111101';\n            this.log_data.boxNo = '';\n            this.log_data.userId = '';\n            this.log_data.menuName = '[메뉴]등기번호스캔';\n            this.log_data.actionData = '등기번호 인증';\n            axios.post(\"http://localhost:8910/admin/dispenserlog/create\", this.log_data, {\n                header: {\n                    \"Context-Type\": \"multipart/form-data\",\n                },\n            })\n            .then((res) => { // 성공했을 경우\n                console.log(\"성공\", res);\n\n            })\n            .catch((res) => { // 실패했을 경우\n                console.error(\"실패 \", res);\n            });\n\n            // 등기번호 인증\n            this.regi_data.postNo = '1111101';\n            axios.get(\"http://localhost:8910/admin/dispenser/checkregino\", this.regi_data, {\n                header: {\n                    \"Context-Type\": \"multipart/form-data\",\n                },\n            })\n            .then((res) => { // 성공했을 경우\n                console.log(\"성공\", res);\n                console.log(\"성공\", res.data.errno);\n\n                if (res.data.errno == -1) {\n                    console.log(res.data.errmsg, this.request2_data.userId);\n                    this.$router.push('/selectbox');\n                } else {                \n                    this.$router.push('/selectbox');\n                }\n\n            })\n            .catch((res) => { // 실패했을 경우\n                console.error(\"실패 \", res);\n            });\n            \n            this.$router.push('/selectbox');\n        }     \n    },\n    created() {\n    },\n    mounted() {\n    }\n\n};\n</script>\n"],"mappings":";;EAEaA,KAAK,EAAC;AAAM;;EAGRA,KAAK,EAAC;AAAQ;gCAEfC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAc,I,aACrBC,mBAAA,CAA4C;EAAvCD,KAAK,EAAC;AAAmB,GAAC,SAAO,E;;EAMzCA,KAAK,EAAC;AAAsB;gCAI7BC,mBAAA,CACM;EADDD,KAAK,EAAC;AAAiB;;uBAjBtCE,mBAAA,CA0BI,cAzBFD,mBAAA,CAuBM,OAvBNE,UAuBM,GArBFC,mBAAA,+BAAkC,EAClCH,mBAAA,CAMM,OANNI,UAMM,GALFJ,mBAAA,CAAiD;IAA5CD,KAAK,EAAC,WAAW;IAAMM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAC,MAAA,IAAAD,IAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;MACzCG,UAEM,EACNV,mBAAA,CAA6C;IAAxCD,KAAK,EAAC,MAAM;IAAOM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAG,MAAA,IAAAH,IAAA,CAAAG,MAAA,IAAAJ,IAAA,CAAM;QAGzCJ,mBAAA,0BAA6B,EAC7BH,mBAAA,CAMM,OANNY,UAMM,GALFZ,mBAAA,CACM;IADDD,KAAK,EAAC,iBAAiB;IAAMM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAK,WAAA,IAAAL,IAAA,CAAAK,WAAA,IAAAN,IAAA,CAAW;MAGpDO,UACM,C,GACJX,mBAAA,cAAiB,EACnCA,mBAAA,8GAGe,C,GACDA,mBAAA,UAAa,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}